{% extends "layouts/base.html" %}

{% block content %}
<div>
    Authenticated User :
    {% if request.user.name %}
        {{request.user.name}}
    {% else %}
        {{request.user.username}}
    {% endif %}
</div>

<div class="col col-4 bg-white rounded p-3">
    <div class="row" id="issue-list-view"
            hx-get='{% url "issues:issue-list" %}'
            hx-trigger='load, issue_list_updated from:body'
            >
            <!-- HTMX Issue List goes here -->
    </div>
    <!-- Button trigger modal -->
    <div class="row">
        <span class="mt-3">
        <button type="button" class="btn btn-primary btn-sm float-end" data-bs-toggle="modal"
                data-bs-target="#static_modal"
            hx-get='{% url "issues:issue-create" %}'
            hx-trigger='click'
            hx-target='#modal-swap'
            >
            Add Issue
        </button>
        </span>
    </div>
</div>

<!-- Modal -->
<div class="modal fade" id="static_modal" data-bs-backdrop="static" data-bs-keyboard="false"
        tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content" id='modal-swap'>
        <!-- HTMX Modal Content goes here -->
        </div>
    </div>
</div>
{% endblock content %}
